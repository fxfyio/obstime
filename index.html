<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBS 时间配置器</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&family=Source+Code+Pro:wght@400;700&family=IBM+Plex+Mono:wght@400;700&family=Space+Mono:wght@400;700&family=Noto+Sans+SC:wght@400;500;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            font-family: 'Noto Sans SC', sans-serif;
            color: #ffffff;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #a0a0a0;
            margin-bottom: 40px;
        }

        .config-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #667eea;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #b0b0b0;
            font-size: 14px;
        }

        input,
        select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        select option {
            background: #1a1a2e;
            color: #ffffff;
        }

        .style-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .style-option {
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .style-option:hover {
            transform: translateY(-2px);
        }

        .style-option.selected {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .style-option .preview-time {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .style-option .style-name {
            font-size: 12px;
            opacity: 0.8;
        }

        /* 样式预览颜色 */
        .style-neon {
            background: rgba(0, 0, 0, 0.8);
            border-color: #00f3ff !important;
        }

        .style-neon .preview-time {
            color: #00f3ff;
            text-shadow: 0 0 10px #00f3ff;
        }

        .style-glass {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
        }

        .style-glass .preview-time {
            color: #ffffff;
        }

        .style-minimal {
            background: #ffffff;
        }

        .style-minimal .preview-time {
            color: #333333;
        }

        .style-minimal .style-name {
            color: #666666;
        }

        .style-dark {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
        }

        .style-dark .preview-time {
            color: #e94560;
        }

        .style-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .style-gradient .preview-time {
            color: #ffffff;
        }

        .style-retro {
            background: #2d2d2d;
            border: 2px solid #ffcc00 !important;
        }

        .style-retro .preview-time {
            color: #ffcc00;
        }

        .style-text {
            background: rgba(50, 50, 50, 0.5);
        }

        .style-text .preview-time {
            color: #ffffff;
        }

        .style-cyber {
            background: linear-gradient(135deg, #0d0221, #150734);
            border: 2px solid #ff2a6d !important;
        }

        .style-cyber .preview-time {
            color: #05d9e8;
            text-shadow: 0 0 5px #05d9e8;
        }

        .style-aurora {
            background: linear-gradient(135deg, #1a1a2e, #0a192f);
        }

        .style-aurora .preview-time {
            background: linear-gradient(90deg, #64ffda, #a78bfa, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .style-matrix {
            background: #000000;
            border: 1px solid #00ff00 !important;
        }

        .style-matrix .preview-time {
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
        }

        .style-fire {
            background: linear-gradient(180deg, #1a0a00, #2d1810);
            border: 2px solid #ff4500 !important;
        }

        .style-fire .preview-time {
            background: linear-gradient(180deg, #ffff00, #ff4500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .style-ice {
            background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
        }

        .style-ice .preview-time {
            color: #006064;
        }

        .style-ice .style-name {
            color: #00838f;
        }

        .style-sunset {
            background: linear-gradient(135deg, #ff6b6b, #feca57);
        }

        .style-sunset .preview-time {
            color: #ffffff;
        }

        .style-forest {
            background: linear-gradient(135deg, #1e3c2f, #2d5a45);
            border: 2px solid #4ade80 !important;
        }

        .style-forest .preview-time {
            color: #86efac;
        }

        .style-pastel {
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
        }

        .style-pastel .preview-time {
            color: #8b5cf6;
        }

        .style-pastel .style-name {
            color: #a78bfa;
        }

        .style-ocean {
            background: linear-gradient(135deg, #0077b6, #00b4d8);
        }

        .style-ocean .preview-time {
            color: #caf0f8;
        }

        .style-amethyst {
            background: linear-gradient(135deg, #4a1c6b, #6b2d9c);
            border: 1px solid #9d4edd !important;
        }

        .style-amethyst .preview-time {
            color: #e0aaff;
            text-shadow: 0 0 5px #c77dff;
        }

        .style-coffee {
            background: linear-gradient(135deg, #3e2723, #5d4037);
            border: 2px solid #a1887f !important;
        }

        .style-coffee .preview-time {
            color: #d7ccc8;
        }

        .style-vaporwave {
            background: linear-gradient(180deg, #ff71ce, #01cdfe, #05ffa1);
        }

        .style-vaporwave .preview-time {
            color: #ffffff;
            text-shadow: 2px 2px 0 #ff71ce;
        }

        .style-noir {
            background: #0a0a0a;
            border: 1px solid #333 !important;
        }

        .style-noir .preview-time {
            color: #ffffff;
            letter-spacing: 3px;
        }

        .style-led {
            background: #111111;
            border: 2px solid #222 !important;
        }

        .style-led .preview-time {
            color: #ff0000;
            text-shadow: 0 0 5px #ff0000;
        }

        .style-gold {
            background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
            border: 2px solid #ffd700 !important;
        }

        .style-gold .preview-time {
            background: linear-gradient(180deg, #ffd700, #ffb700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .style-starry {
            background: linear-gradient(180deg, #0f0c29, #302b63, #24243e);
        }

        .style-starry .preview-time {
            color: #ffffff;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        .style-sakura {
            background: linear-gradient(135deg, #ffeef8, #fff0f5);
            border: 2px solid #ffb7c5 !important;
        }

        .style-sakura .preview-time {
            color: #d63384;
        }

        .style-sakura .style-name {
            color: #ff69b4;
        }

        .style-rgb {
            background: #000000;
            border: 2px solid #ff00ff !important;
        }

        .style-rgb .preview-time {
            background: linear-gradient(90deg, #ff0000, #00ff00, #0000ff, #ff0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200%;
            animation: rgbAnim 2s linear infinite;
        }

        @keyframes rgbAnim {
            0% {
                background-position: 0%;
            }

            100% {
                background-position: 200%;
            }
        }

        .preview-container {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><rect width="10" height="10" fill="%23333"/><rect x="10" y="10" width="10" height="10" fill="%23333"/></svg>');
            background-size: 20px 20px;
            border-radius: 12px;
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .url-output {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .url-output input {
            background: rgba(0, 0, 0, 0.5);
            font-family: monospace;
            font-size: 14px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #ffffff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .tip {
            font-size: 12px;
            color: #808080;
            margin-top: 5px;
        }

        .format-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .format-tag {
            padding: 4px 10px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .format-tag:hover {
            background: rgba(102, 126, 234, 0.4);
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 600px) {
            .row {
                grid-template-columns: 1fr;
            }
        }

        .copied {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            animation: fadeInOut 2s ease;
            z-index: 1000;
        }

        @keyframes fadeInOut {

            0%,
            100% {
                opacity: 0;
                transform: translateY(-10px);
            }

            20%,
            80% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>OBS 时间显示器</h1>
        <p class="subtitle">生成自定义时间链接，用于OBS浏览器源</p>

        <!-- 样式选择 -->
        <div class="config-section">
            <h2 class="section-title">选择样式</h2>
            <div class="style-grid">
                <div class="style-option style-neon selected" data-style="neon">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">霓虹</div>
                </div>
                <div class="style-option style-cyber" data-style="cyber">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">赛博朋克</div>
                </div>
                <div class="style-option style-matrix" data-style="matrix">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">矩阵</div>
                </div>
                <div class="style-option style-aurora" data-style="aurora">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">极光</div>
                </div>
                <div class="style-option style-vaporwave" data-style="vaporwave">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">蒸汽波</div>
                </div>
                <div class="style-option style-led" data-style="led">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">LED</div>
                </div>
                <div class="style-option style-fire" data-style="fire">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">火焰</div>
                </div>
                <div class="style-option style-gold" data-style="gold">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">金色</div>
                </div>
                <div class="style-option style-gradient" data-style="gradient">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">渐变</div>
                </div>
                <div class="style-option style-amethyst" data-style="amethyst">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">紫晶</div>
                </div>
                <div class="style-option style-ocean" data-style="ocean">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">海洋</div>
                </div>
                <div class="style-option style-sunset" data-style="sunset">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">日落</div>
                </div>
                <div class="style-option style-forest" data-style="forest">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">森林</div>
                </div>
                <div class="style-option style-ice" data-style="ice">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">冰霜</div>
                </div>
                <div class="style-option style-pastel" data-style="pastel">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">粉彩</div>
                </div>
                <div class="style-option style-coffee" data-style="coffee">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">咖啡</div>
                </div>
                <div class="style-option style-glass" data-style="glass">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">玻璃</div>
                </div>
                <div class="style-option style-dark" data-style="dark">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">暗黑</div>
                </div>
                <div class="style-option style-minimal" data-style="minimal">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">简约白</div>
                </div>
                <div class="style-option style-noir" data-style="noir">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">极简黑</div>
                </div>
                <div class="style-option style-retro" data-style="retro">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">复古</div>
                </div>
                <div class="style-option style-text" data-style="text">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">纯文字</div>
                </div>
                <div class="style-option style-starry" data-style="starry">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">星空</div>
                </div>
                <div class="style-option style-sakura" data-style="sakura">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">樱花</div>
                </div>
                <div class="style-option style-rgb" data-style="rgb">
                    <div class="preview-time">12:00</div>
                    <div class="style-name">电竞RGB</div>
                </div>
            </div>
        </div>

        <!-- 配置选项 -->
        <div class="config-section">
            <h2 class="section-title">配置选项</h2>

            <div class="row">
                <div class="form-group">
                    <label>时区</label>
                    <select id="timezone">
                        <option value="Asia/Shanghai">北京时间 (UTC+8)</option>
                        <option value="Asia/Tokyo">东京时间 (UTC+9)</option>
                        <option value="Asia/Seoul">首尔时间 (UTC+9)</option>
                        <option value="Asia/Hong_Kong">香港时间 (UTC+8)</option>
                        <option value="Asia/Singapore">新加坡时间 (UTC+8)</option>
                        <option value="America/New_York">纽约时间 (UTC-5/-4)</option>
                        <option value="America/Los_Angeles">洛杉矶时间 (UTC-8/-7)</option>
                        <option value="Europe/London">伦敦时间 (UTC+0/+1)</option>
                        <option value="Europe/Paris">巴黎时间 (UTC+1/+2)</option>
                        <option value="Australia/Sydney">悉尼时间 (UTC+10/+11)</option>
                        <option value="UTC">UTC</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>字体大小 (px)</label>
                    <input type="number" id="fontSize" value="48" min="12" max="200">
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label>字体选择</label>
                    <select id="fontFamily">
                        <option value="">默认（跟随样式）</option>
                        <option value="jetbrains">JetBrains Mono（现代清晰）</option>
                        <option value="fira">Fira Code（连字支持）</option>
                        <option value="source">Source Code Pro（经典）</option>
                        <option value="ibm">IBM Plex Mono（专业）</option>
                        <option value="space">Space Mono（几何科技）</option>
                        <option value="orbitron">Orbitron（科幻数码）</option>
                        <option value="roboto">Roboto Mono（简洁）</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>字体预览</label>
                    <div id="fontPreview"
                        style="font-family: 'JetBrains Mono', monospace; font-size: 24px; padding: 12px 16px; background: rgba(255,255,255,0.1); border-radius: 8px; text-align: center;">
                        12:34:56</div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label>时间格式</label>
                    <input type="text" id="timeFormat" value="HH:mm:ss" placeholder="HH:mm:ss">
                    <div class="format-examples">
                        <span class="format-tag" data-format="HH:mm:ss">HH:mm:ss</span>
                        <span class="format-tag" data-format="HH:mm">HH:mm</span>
                        <span class="format-tag" data-format="hh:mm:ss A">hh:mm:ss A</span>
                        <span class="format-tag" data-format="hh:mm A">hh:mm A</span>
                    </div>
                    <p class="tip">HH=24小时, hh=12小时, mm=分钟, ss=秒, A=AM/PM</p>
                </div>

                <div class="form-group">
                    <label>日期格式 (可选)</label>
                    <input type="text" id="dateFormat" value="" placeholder="留空则不显示日期">
                    <div class="format-examples">
                        <span class="format-tag" data-format="YYYY-MM-DD">YYYY-MM-DD</span>
                        <span class="format-tag" data-format="MM/DD">MM/DD</span>
                        <span class="format-tag" data-format="YYYY年MM月DD日">YYYY年MM月DD日</span>
                        <span class="format-tag" data-format="MM月DD日 dddd">MM月DD日 dddd</span>
                    </div>
                    <p class="tip">YYYY=年, MM=月, DD=日, ddd=周X, dddd=星期X</p>
                </div>
            </div>
        </div>

        <!-- 预览 -->
        <div class="config-section">
            <h2 class="section-title">预览效果</h2>
            <div class="preview-container">
                <iframe id="preview" src="clock.html?style=neon" frameborder="0"
                    style="width: 100%; height: 150px; background: transparent;"></iframe>
            </div>

            <div class="url-output">
                <label>生成的链接 (复制到OBS浏览器源)</label>
                <input type="text" id="generatedUrl" readonly>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="copyUrl()">复制链接</button>
                    <button class="btn btn-primary" onclick="openPreview()">新窗口预览</button>
                </div>
            </div>
        </div>

        <!-- 使用说明 -->
        <div class="config-section">
            <h2 class="section-title">使用说明</h2>
            <ol style="line-height: 2; color: #b0b0b0; padding-left: 20px;">
                <li>在上方选择喜欢的样式和配置</li>
                <li>复制生成的链接</li>
                <li>在 OBS 中添加「浏览器」源</li>
                <li>将链接粘贴到 URL 栏</li>
                <li>设置合适的宽高 (建议: 宽400-600, 高100-200)</li>
                <li>勾选「关闭时刷新」选项</li>
            </ol>
        </div>
    </div>

    <script>
        const config = {
            style: 'neon',
            timezone: 'Asia/Shanghai',
            timeFormat: 'HH:mm:ss',
            dateFormat: '',
            fontSize: 48,
            font: ''
        };

        // 字体映射
        const fontFamilyMap = {
            'jetbrains': "'JetBrains Mono', monospace",
            'fira': "'Fira Code', monospace",
            'source': "'Source Code Pro', monospace",
            'ibm': "'IBM Plex Mono', monospace",
            'space': "'Space Mono', monospace",
            'orbitron': "'Orbitron', monospace",
            'roboto': "'Roboto Mono', monospace"
        };

        // 获取基础URL
        function getBaseUrl() {
            const url = new URL(window.location.href);
            const path = url.pathname.endsWith('/') ? url.pathname + 'clock.html' : url.pathname.replace(/index\.html$/, 'clock.html');
            return url.origin + path;
        }

        // 生成URL
        function generateUrl() {
            const params = new URLSearchParams();

            if (config.style !== 'neon') params.set('style', config.style);
            if (config.timezone !== 'Asia/Shanghai') params.set('tz', config.timezone);
            if (config.timeFormat !== 'HH:mm:ss') params.set('tf', config.timeFormat);
            if (config.dateFormat) params.set('df', config.dateFormat);
            if (config.fontSize !== 48) params.set('size', config.fontSize);
            if (config.font) params.set('font', config.font);

            const queryString = params.toString();
            return getBaseUrl() + (queryString ? '?' + queryString : '');
        }

        // 更新预览
        function updatePreview() {
            const url = generateUrl();
            document.getElementById('generatedUrl').value = url;
            document.getElementById('preview').src = url.replace(getBaseUrl(), 'clock.html');
        }

        // 样式选择
        document.querySelectorAll('.style-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.style-option').forEach(o => o.classList.remove('selected'));
                option.classList.add('selected');
                config.style = option.dataset.style;
                updatePreview();
            });
        });

        // 时区选择
        document.getElementById('timezone').addEventListener('change', (e) => {
            config.timezone = e.target.value;
            updatePreview();
        });

        // 时间格式
        document.getElementById('timeFormat').addEventListener('input', (e) => {
            config.timeFormat = e.target.value;
            updatePreview();
        });

        // 日期格式
        document.getElementById('dateFormat').addEventListener('input', (e) => {
            config.dateFormat = e.target.value;
            updatePreview();
        });

        // 字体大小
        document.getElementById('fontSize').addEventListener('input', (e) => {
            config.fontSize = parseInt(e.target.value) || 48;
            updatePreview();
        });

        // 字体选择
        document.getElementById('fontFamily').addEventListener('change', (e) => {
            config.font = e.target.value;
            const preview = document.getElementById('fontPreview');
            if (config.font && fontFamilyMap[config.font]) {
                preview.style.fontFamily = fontFamilyMap[config.font];
            } else {
                preview.style.fontFamily = "'JetBrains Mono', monospace";
            }
            updatePreview();
        });

        // 格式标签点击
        document.querySelectorAll('.format-tag').forEach(tag => {
            tag.addEventListener('click', () => {
                const format = tag.dataset.format;
                const input = tag.closest('.form-group').querySelector('input');
                input.value = format;
                input.dispatchEvent(new Event('input'));
            });
        });

        // 复制链接
        function copyUrl() {
            const url = document.getElementById('generatedUrl').value;
            navigator.clipboard.writeText(url).then(() => {
                showToast('链接已复制!');
            });
        }

        // 新窗口预览
        function openPreview() {
            window.open(generateUrl(), '_blank');
        }

        // 提示消息
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'copied';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        // 初始化
        updatePreview();
    </script>
</body>

</html>