<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBS 时间配置器</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&family=Source+Code+Pro:wght@400;700&family=IBM+Plex+Mono:wght@400;700&family=Space+Mono:wght@400;700&family=Noto+Sans+SC:wght@400;500;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            font-family: 'Noto Sans SC', sans-serif;
            color: #ffffff;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #a0a0a0;
            margin-bottom: 40px;
        }

        .config-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #667eea;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #b0b0b0;
            font-size: 14px;
        }

        input,
        select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        select option {
            background: #1a1a2e;
            color: #ffffff;
        }

        .style-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .style-option {
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .style-option:hover {
            transform: translateY(-2px);
        }

        .style-option.selected {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .style-option .preview-time {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .style-option .style-name {
            font-size: 12px;
            opacity: 0.8;
        }

        /* 样式预览 - 极简纯净 */
        .style-paper { background: #fefefe; box-shadow: 0 1px 3px rgba(0,0,0,0.06); }
        .style-paper .preview-time { color: #2c2c2c; }
        .style-paper .style-name { color: #888; }

        .style-ink { background: #1a1a1a; }
        .style-ink .preview-time { color: #f5f5f5; }

        .style-cloud { background: rgba(80,80,80,0.5); }
        .style-cloud .preview-time { color: #fff; }

        .style-shadow { background: rgba(200,200,200,0.6); }
        .style-shadow .preview-time { color: #1a1a1a; }
        .style-shadow .style-name { color: #333; }

        /* 样式预览 - 自然色彩 */
        .style-slate { background: #334155; }
        .style-slate .preview-time { color: #f1f5f9; }

        .style-ocean { background: linear-gradient(160deg, #1e3a5f, #234876); }
        .style-ocean .preview-time { color: #e8f4fc; }

        .style-forest { background: linear-gradient(160deg, #1a3a2f, #234d3f); }
        .style-forest .preview-time { color: #e8f5f0; }

        .style-chestnut { background: linear-gradient(160deg, #3d2a1f, #4a352a); }
        .style-chestnut .preview-time { color: #f5ebe6; }

        /* 样式预览 - 柔和色系 */
        .style-sakura { background: #fdf6f8; border: 1px solid #f5dce2 !important; }
        .style-sakura .preview-time { color: #8b4557; }
        .style-sakura .style-name { color: #b86b7d; }

        .style-mint { background: #f4fbf8; border: 1px solid #c8ece0 !important; }
        .style-mint .preview-time { color: #2d6a54; }
        .style-mint .style-name { color: #4a9a7d; }

        .style-sky { background: #f5fafd; border: 1px solid #c5e3f5 !important; }
        .style-sky .preview-time { color: #2563a0; }
        .style-sky .style-name { color: #4a8bc7; }

        .style-amber { background: #fefbf4; border: 1px solid #f5e6c8 !important; }
        .style-amber .preview-time { color: #8b6914; }
        .style-amber .style-name { color: #b58f2a; }

        /* 样式预览 - 现代配色 */
        .style-indigo { background: linear-gradient(135deg, #4338ca, #5b4fdb); }
        .style-indigo .preview-time { color: #fff; }

        .style-amethyst { background: linear-gradient(135deg, #7c3aed, #9061f0); }
        .style-amethyst .preview-time { color: #fff; }

        .style-coral { background: linear-gradient(135deg, #dc6b5a, #e88373); }
        .style-coral .preview-time { color: #fff; }

        .style-celadon { background: linear-gradient(135deg, #0d9488, #20b2a5); }
        .style-celadon .preview-time { color: #fff; }

        /* 样式预览 - 质感与效果 */
        .style-frosted { background: rgba(255,255,255,0.15); backdrop-filter: blur(5px); }
        .style-frosted .preview-time { color: #fff; }

        .style-smoke { background: rgba(0,0,0,0.45); backdrop-filter: blur(5px); }
        .style-smoke .preview-time { color: #f0f0f0; }

        .style-outline { background: transparent; border: 2px solid rgba(255,255,255,0.75) !important; border-radius: 12px; }
        .style-outline .preview-time { color: #fff; }

        .style-acrylic { background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75)); }
        .style-acrylic .preview-time { color: #333; }
        .style-acrylic .style-name { color: #666; }

        /* 样式预览 - 科技与复古 */
        .style-led { background: #080808; }
        .style-led .preview-time { color: #ff3b30; text-shadow: 0 0 8px rgba(255,59,48,0.5); }

        .style-matrix { background: #0a0f0a; }
        .style-matrix .preview-time { color: #00ff41; text-shadow: 0 0 6px rgba(0,255,65,0.4); }

        .style-terminal { background: #1e1e2e; border: 1px solid #313244 !important; }
        .style-terminal .preview-time { color: #a6e3a1; }

        .style-neon { background: rgba(10,10,20,0.9); border: 1px solid #06b6d4 !important; }
        .style-neon .preview-time { color: #22d3ee; text-shadow: 0 0 8px rgba(34,211,238,0.5); }

        .style-typewriter { background: #f5f2eb; }
        .style-typewriter .preview-time { color: #2a2520; }
        .style-typewriter .style-name { color: #5a5550; }

        .preview-container {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><rect width="10" height="10" fill="%23333"/><rect x="10" y="10" width="10" height="10" fill="%23333"/></svg>');
            background-size: 20px 20px;
            border-radius: 12px;
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .url-output {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .url-output input {
            background: rgba(0, 0, 0, 0.5);
            font-family: monospace;
            font-size: 14px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #ffffff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .tip {
            font-size: 12px;
            color: #808080;
            margin-top: 5px;
        }

        .format-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .format-tag {
            padding: 4px 10px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .format-tag:hover {
            background: rgba(102, 126, 234, 0.4);
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 600px) {
            .row {
                grid-template-columns: 1fr;
            }
        }

        .copied {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            animation: fadeInOut 2s ease;
            z-index: 1000;
        }

        @keyframes fadeInOut {

            0%,
            100% {
                opacity: 0;
                transform: translateY(-10px);
            }

            20%,
            80% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>OBS 时间显示器</h1>
        <p class="subtitle">生成自定义时间链接，用于OBS浏览器源</p>

        <!-- 样式选择 -->
        <div class="config-section">
            <h2 class="section-title">选择样式</h2>
            <div class="style-grid">
                <div class="style-option style-paper selected" data-style="paper"><div class="preview-time">12:00</div><div class="style-name">纸</div></div>
                <div class="style-option style-ink" data-style="ink"><div class="preview-time">12:00</div><div class="style-name">墨</div></div>
                <div class="style-option style-cloud" data-style="cloud"><div class="preview-time">12:00</div><div class="style-name">云</div></div>
                <div class="style-option style-shadow" data-style="shadow"><div class="preview-time">12:00</div><div class="style-name">影</div></div>
                <div class="style-option style-slate" data-style="slate"><div class="preview-time">12:00</div><div class="style-name">石板</div></div>
                <div class="style-option style-ocean" data-style="ocean"><div class="preview-time">12:00</div><div class="style-name">海</div></div>
                <div class="style-option style-forest" data-style="forest"><div class="preview-time">12:00</div><div class="style-name">森</div></div>
                <div class="style-option style-chestnut" data-style="chestnut"><div class="preview-time">12:00</div><div class="style-name">栗</div></div>
                <div class="style-option style-sakura" data-style="sakura"><div class="preview-time">12:00</div><div class="style-name">樱</div></div>
                <div class="style-option style-mint" data-style="mint"><div class="preview-time">12:00</div><div class="style-name">薄荷</div></div>
                <div class="style-option style-sky" data-style="sky"><div class="preview-time">12:00</div><div class="style-name">天空</div></div>
                <div class="style-option style-amber" data-style="amber"><div class="preview-time">12:00</div><div class="style-name">琥珀</div></div>
                <div class="style-option style-indigo" data-style="indigo"><div class="preview-time">12:00</div><div class="style-name">靛蓝</div></div>
                <div class="style-option style-amethyst" data-style="amethyst"><div class="preview-time">12:00</div><div class="style-name">紫晶</div></div>
                <div class="style-option style-coral" data-style="coral"><div class="preview-time">12:00</div><div class="style-name">珊瑚</div></div>
                <div class="style-option style-celadon" data-style="celadon"><div class="preview-time">12:00</div><div class="style-name">青瓷</div></div>
                <div class="style-option style-frosted" data-style="frosted"><div class="preview-time">12:00</div><div class="style-name">磨砂</div></div>
                <div class="style-option style-smoke" data-style="smoke"><div class="preview-time">12:00</div><div class="style-name">烟雾</div></div>
                <div class="style-option style-outline" data-style="outline"><div class="preview-time">12:00</div><div class="style-name">描边</div></div>
                <div class="style-option style-acrylic" data-style="acrylic"><div class="preview-time">12:00</div><div class="style-name">亚克力</div></div>
                <div class="style-option style-led" data-style="led"><div class="preview-time">12:00</div><div class="style-name">LED</div></div>
                <div class="style-option style-matrix" data-style="matrix"><div class="preview-time">12:00</div><div class="style-name">矩阵</div></div>
                <div class="style-option style-terminal" data-style="terminal"><div class="preview-time">12:00</div><div class="style-name">终端</div></div>
                <div class="style-option style-neon" data-style="neon"><div class="preview-time">12:00</div><div class="style-name">霓虹</div></div>
                <div class="style-option style-typewriter" data-style="typewriter"><div class="preview-time">12:00</div><div class="style-name">打字机</div></div>
            </div>
        </div>

        <!-- 配置选项 -->
        <div class="config-section">
            <h2 class="section-title">配置选项</h2>

            <div class="row">
                <div class="form-group">
                    <label>时区</label>
                    <select id="timezone">
                        <option value="Asia/Shanghai">北京时间 (UTC+8)</option>
                        <option value="Asia/Tokyo">东京时间 (UTC+9)</option>
                        <option value="Asia/Seoul">首尔时间 (UTC+9)</option>
                        <option value="Asia/Hong_Kong">香港时间 (UTC+8)</option>
                        <option value="Asia/Singapore">新加坡时间 (UTC+8)</option>
                        <option value="America/New_York">纽约时间 (UTC-5/-4)</option>
                        <option value="America/Los_Angeles">洛杉矶时间 (UTC-8/-7)</option>
                        <option value="Europe/London">伦敦时间 (UTC+0/+1)</option>
                        <option value="Europe/Paris">巴黎时间 (UTC+1/+2)</option>
                        <option value="Australia/Sydney">悉尼时间 (UTC+10/+11)</option>
                        <option value="UTC">UTC</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>字体大小 (px)</label>
                    <input type="number" id="fontSize" value="48" min="12" max="200">
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label>字体选择</label>
                    <select id="fontFamily">
                        <option value="">默认（跟随样式）</option>
                        <option value="jetbrains">JetBrains Mono（现代清晰）</option>
                        <option value="fira">Fira Code（连字支持）</option>
                        <option value="source">Source Code Pro（经典）</option>
                        <option value="ibm">IBM Plex Mono（专业）</option>
                        <option value="space">Space Mono（几何科技）</option>
                        <option value="orbitron">Orbitron（科幻数码）</option>
                        <option value="roboto">Roboto Mono（简洁）</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>字体预览</label>
                    <div id="fontPreview"
                        style="font-family: 'JetBrains Mono', monospace; font-size: 24px; padding: 12px 16px; background: rgba(255,255,255,0.1); border-radius: 8px; text-align: center;">
                        12:34:56</div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label>时间格式</label>
                    <input type="text" id="timeFormat" value="HH:mm:ss" placeholder="HH:mm:ss">
                    <div class="format-examples">
                        <span class="format-tag" data-format="HH:mm:ss">HH:mm:ss</span>
                        <span class="format-tag" data-format="HH:mm">HH:mm</span>
                        <span class="format-tag" data-format="hh:mm:ss A">hh:mm:ss A</span>
                        <span class="format-tag" data-format="hh:mm A">hh:mm A</span>
                    </div>
                    <p class="tip">HH=24小时, hh=12小时, mm=分钟, ss=秒, A=AM/PM</p>
                </div>

                <div class="form-group">
                    <label>日期格式 (可选)</label>
                    <input type="text" id="dateFormat" value="" placeholder="留空则不显示日期">
                    <div class="format-examples">
                        <span class="format-tag" data-format="YYYY-MM-DD">YYYY-MM-DD</span>
                        <span class="format-tag" data-format="MM/DD">MM/DD</span>
                        <span class="format-tag" data-format="YYYY年MM月DD日">YYYY年MM月DD日</span>
                        <span class="format-tag" data-format="MM月DD日 dddd">MM月DD日 dddd</span>
                    </div>
                    <p class="tip">YYYY=年, MM=月, DD=日, ddd=周X, dddd=星期X</p>
                </div>
            </div>
        </div>

        <!-- 预览 -->
        <div class="config-section">
            <h2 class="section-title">预览效果</h2>
            <div class="preview-container">
                <iframe id="preview" src="clock.html?style=neon" frameborder="0"
                    style="width: 100%; height: 150px; background: transparent;"></iframe>
            </div>

            <div class="url-output">
                <label>生成的链接 (复制到OBS浏览器源)</label>
                <input type="text" id="generatedUrl" readonly>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="copyUrl()">复制链接</button>
                    <button class="btn btn-primary" onclick="openPreview()">新窗口预览</button>
                </div>
            </div>
        </div>

        <!-- 使用说明 -->
        <div class="config-section">
            <h2 class="section-title">使用说明</h2>
            <ol style="line-height: 2; color: #b0b0b0; padding-left: 20px;">
                <li>在上方选择喜欢的样式和配置</li>
                <li>复制生成的链接</li>
                <li>在 OBS 中添加「浏览器」源</li>
                <li>将链接粘贴到 URL 栏</li>
                <li>设置合适的宽高 (建议: 宽400-600, 高100-200)</li>
                <li>勾选「关闭时刷新」选项</li>
            </ol>
        </div>
    </div>

    <script>
        const config = {
            style: 'neon',
            timezone: 'Asia/Shanghai',
            timeFormat: 'HH:mm:ss',
            dateFormat: '',
            fontSize: 48,
            font: ''
        };

        // 字体映射
        const fontFamilyMap = {
            'jetbrains': "'JetBrains Mono', monospace",
            'fira': "'Fira Code', monospace",
            'source': "'Source Code Pro', monospace",
            'ibm': "'IBM Plex Mono', monospace",
            'space': "'Space Mono', monospace",
            'orbitron': "'Orbitron', monospace",
            'roboto': "'Roboto Mono', monospace"
        };

        // 获取基础URL
        function getBaseUrl() {
            const url = new URL(window.location.href);
            const path = url.pathname.endsWith('/') ? url.pathname + 'clock.html' : url.pathname.replace(/index\.html$/, 'clock.html');
            return url.origin + path;
        }

        // 生成URL
        function generateUrl() {
            const params = new URLSearchParams();

            if (config.style !== 'neon') params.set('style', config.style);
            if (config.timezone !== 'Asia/Shanghai') params.set('tz', config.timezone);
            if (config.timeFormat !== 'HH:mm:ss') params.set('tf', config.timeFormat);
            if (config.dateFormat) params.set('df', config.dateFormat);
            if (config.fontSize !== 48) params.set('size', config.fontSize);
            if (config.font) params.set('font', config.font);

            const queryString = params.toString();
            return getBaseUrl() + (queryString ? '?' + queryString : '');
        }

        // 更新预览
        function updatePreview() {
            const url = generateUrl();
            document.getElementById('generatedUrl').value = url;
            document.getElementById('preview').src = url.replace(getBaseUrl(), 'clock.html');
        }

        // 样式选择
        document.querySelectorAll('.style-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.style-option').forEach(o => o.classList.remove('selected'));
                option.classList.add('selected');
                config.style = option.dataset.style;
                updatePreview();
            });
        });

        // 时区选择
        document.getElementById('timezone').addEventListener('change', (e) => {
            config.timezone = e.target.value;
            updatePreview();
        });

        // 时间格式
        document.getElementById('timeFormat').addEventListener('input', (e) => {
            config.timeFormat = e.target.value;
            updatePreview();
        });

        // 日期格式
        document.getElementById('dateFormat').addEventListener('input', (e) => {
            config.dateFormat = e.target.value;
            updatePreview();
        });

        // 字体大小
        document.getElementById('fontSize').addEventListener('input', (e) => {
            config.fontSize = parseInt(e.target.value) || 48;
            updatePreview();
        });

        // 字体选择
        document.getElementById('fontFamily').addEventListener('change', (e) => {
            config.font = e.target.value;
            const preview = document.getElementById('fontPreview');
            if (config.font && fontFamilyMap[config.font]) {
                preview.style.fontFamily = fontFamilyMap[config.font];
            } else {
                preview.style.fontFamily = "'JetBrains Mono', monospace";
            }
            updatePreview();
        });

        // 格式标签点击
        document.querySelectorAll('.format-tag').forEach(tag => {
            tag.addEventListener('click', () => {
                const format = tag.dataset.format;
                const input = tag.closest('.form-group').querySelector('input');
                input.value = format;
                input.dispatchEvent(new Event('input'));
            });
        });

        // 复制链接
        function copyUrl() {
            const url = document.getElementById('generatedUrl').value;
            navigator.clipboard.writeText(url).then(() => {
                showToast('链接已复制!');
            });
        }

        // 新窗口预览
        function openPreview() {
            window.open(generateUrl(), '_blank');
        }

        // 提示消息
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'copied';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        // 初始化
        updatePreview();
    </script>
</body>

</html>