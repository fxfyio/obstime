<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBS 时间配置器</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&family=Source+Code+Pro:wght@400;700&family=IBM+Plex+Mono:wght@400;700&family=Space+Mono:wght@400;700&family=Noto+Sans+SC:wght@400;500;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            font-family: 'Noto Sans SC', sans-serif;
            color: #ffffff;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #a0a0a0;
            margin-bottom: 40px;
        }

        .config-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #667eea;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #b0b0b0;
            font-size: 14px;
        }

        input,
        select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        select option {
            background: #1a1a2e;
            color: #ffffff;
        }

        .style-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .style-option {
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .style-option:hover {
            transform: translateY(-2px);
        }

        .style-option.selected {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .style-option .preview-time {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .style-option .style-name {
            font-size: 12px;
            opacity: 0.8;
        }

        /* 样式预览 */
        .style-white { background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .style-white .preview-time { color: #18181b; }
        .style-white .style-name { color: #71717a; }

        .style-black { background: #18181b; }
        .style-black .preview-time { color: #fafafa; }

        .style-light { background: rgba(80,80,80,0.5); }
        .style-light .preview-time { color: #fff; }

        .style-dark { background: rgba(200,200,200,0.5); }
        .style-dark .preview-time { color: #18181b; }
        .style-dark .style-name { color: #3f3f46; }

        .style-graphite { background: linear-gradient(135deg, #27272a, #3f3f46); }
        .style-graphite .preview-time { color: #e4e4e7; }

        .style-navy { background: linear-gradient(135deg, #1e3a5f, #2d4a6f); }
        .style-navy .preview-time { color: #e0f2fe; }

        .style-blue { background: linear-gradient(135deg, #2563eb, #3b82f6); }
        .style-blue .preview-time { color: #fff; }

        .style-indigo { background: linear-gradient(135deg, #4f46e5, #6366f1); }
        .style-indigo .preview-time { color: #fff; }

        .style-purple { background: linear-gradient(135deg, #7c3aed, #8b5cf6); }
        .style-purple .preview-time { color: #fff; }

        .style-rose { background: linear-gradient(135deg, #e11d48, #f43f5e); }
        .style-rose .preview-time { color: #fff; }

        .style-orange { background: linear-gradient(135deg, #ea580c, #f97316); }
        .style-orange .preview-time { color: #fff; }

        .style-emerald { background: linear-gradient(135deg, #059669, #10b981); }
        .style-emerald .preview-time { color: #fff; }

        .style-teal { background: linear-gradient(135deg, #0d9488, #14b8a6); }
        .style-teal .preview-time { color: #fff; }

        .style-sky { background: linear-gradient(135deg, #0284c7, #0ea5e9); }
        .style-sky .preview-time { color: #fff; }

        .style-pink { background: #fdf2f8; border: 1px solid #fbcfe8 !important; }
        .style-pink .preview-time { color: #be185d; }
        .style-pink .style-name { color: #db2777; }

        .style-mint { background: #ecfdf5; border: 1px solid #a7f3d0 !important; }
        .style-mint .preview-time { color: #047857; }
        .style-mint .style-name { color: #059669; }

        .style-soft-blue { background: #eff6ff; border: 1px solid #bfdbfe !important; }
        .style-soft-blue .preview-time { color: #1d4ed8; }
        .style-soft-blue .style-name { color: #2563eb; }

        .style-cream { background: #fffbeb; border: 1px solid #fde68a !important; }
        .style-cream .preview-time { color: #b45309; }
        .style-cream .style-name { color: #d97706; }

        .style-glass { background: rgba(255,255,255,0.2); backdrop-filter: blur(5px); }
        .style-glass .preview-time { color: #fff; }

        .style-glass-dark { background: rgba(0,0,0,0.4); backdrop-filter: blur(5px); }
        .style-glass-dark .preview-time { color: #fff; }

        .style-outline { background: transparent; border: 2px solid rgba(255,255,255,0.8) !important; }
        .style-outline .preview-time { color: #fff; }

        .style-led { background: #0c0c0c; }
        .style-led .preview-time { color: #ef4444; text-shadow: 0 0 6px rgba(239,68,68,0.5); }

        .style-led-green { background: #0c0c0c; }
        .style-led-green .preview-time { color: #22c55e; text-shadow: 0 0 6px rgba(34,197,94,0.5); }

        .style-terminal { background: #0f172a; border: 1px solid #1e293b !important; }
        .style-terminal .preview-time { color: #4ade80; }

        .style-neon { background: rgba(0,0,0,0.85); border: 1px solid #22d3ee !important; }
        .style-neon .preview-time { color: #22d3ee; text-shadow: 0 0 6px rgba(34,211,238,0.5); }

        .preview-container {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><rect width="10" height="10" fill="%23333"/><rect x="10" y="10" width="10" height="10" fill="%23333"/></svg>');
            background-size: 20px 20px;
            border-radius: 12px;
            padding: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }

        .url-output {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .url-output input {
            background: rgba(0, 0, 0, 0.5);
            font-family: monospace;
            font-size: 14px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #ffffff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .tip {
            font-size: 12px;
            color: #808080;
            margin-top: 5px;
        }

        .format-examples {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .format-tag {
            padding: 4px 10px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .format-tag:hover {
            background: rgba(102, 126, 234, 0.4);
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 600px) {
            .row {
                grid-template-columns: 1fr;
            }
        }

        .copied {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            animation: fadeInOut 2s ease;
            z-index: 1000;
        }

        @keyframes fadeInOut {

            0%,
            100% {
                opacity: 0;
                transform: translateY(-10px);
            }

            20%,
            80% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>OBS 时间显示器</h1>
        <p class="subtitle">生成自定义时间链接，用于OBS浏览器源</p>

        <!-- 样式选择 -->
        <div class="config-section">
            <h2 class="section-title">选择样式</h2>
            <div class="style-grid">
                <div class="style-option style-white selected" data-style="white"><div class="preview-time">12:00</div><div class="style-name">现代白</div></div>
                <div class="style-option style-black" data-style="black"><div class="preview-time">12:00</div><div class="style-name">现代黑</div></div>
                <div class="style-option style-light" data-style="light"><div class="preview-time">12:00</div><div class="style-name">透明白</div></div>
                <div class="style-option style-dark" data-style="dark"><div class="preview-time">12:00</div><div class="style-name">透明黑</div></div>
                <div class="style-option style-graphite" data-style="graphite"><div class="preview-time">12:00</div><div class="style-name">石墨</div></div>
                <div class="style-option style-navy" data-style="navy"><div class="preview-time">12:00</div><div class="style-name">深蓝</div></div>
                <div class="style-option style-blue" data-style="blue"><div class="preview-time">12:00</div><div class="style-name">蓝色</div></div>
                <div class="style-option style-indigo" data-style="indigo"><div class="preview-time">12:00</div><div class="style-name">靛蓝</div></div>
                <div class="style-option style-purple" data-style="purple"><div class="preview-time">12:00</div><div class="style-name">紫色</div></div>
                <div class="style-option style-rose" data-style="rose"><div class="preview-time">12:00</div><div class="style-name">玫红</div></div>
                <div class="style-option style-orange" data-style="orange"><div class="preview-time">12:00</div><div class="style-name">橙色</div></div>
                <div class="style-option style-emerald" data-style="emerald"><div class="preview-time">12:00</div><div class="style-name">翠绿</div></div>
                <div class="style-option style-teal" data-style="teal"><div class="preview-time">12:00</div><div class="style-name">青色</div></div>
                <div class="style-option style-sky" data-style="sky"><div class="preview-time">12:00</div><div class="style-name">天蓝</div></div>
                <div class="style-option style-pink" data-style="pink"><div class="preview-time">12:00</div><div class="style-name">柔粉</div></div>
                <div class="style-option style-mint" data-style="mint"><div class="preview-time">12:00</div><div class="style-name">柔绿</div></div>
                <div class="style-option style-soft-blue" data-style="soft-blue"><div class="preview-time">12:00</div><div class="style-name">柔蓝</div></div>
                <div class="style-option style-cream" data-style="cream"><div class="preview-time">12:00</div><div class="style-name">暖米</div></div>
                <div class="style-option style-glass" data-style="glass"><div class="preview-time">12:00</div><div class="style-name">毛玻璃</div></div>
                <div class="style-option style-glass-dark" data-style="glass-dark"><div class="preview-time">12:00</div><div class="style-name">深玻璃</div></div>
                <div class="style-option style-outline" data-style="outline"><div class="preview-time">12:00</div><div class="style-name">线框</div></div>
                <div class="style-option style-led" data-style="led"><div class="preview-time">12:00</div><div class="style-name">LED红</div></div>
                <div class="style-option style-led-green" data-style="led-green"><div class="preview-time">12:00</div><div class="style-name">LED绿</div></div>
                <div class="style-option style-terminal" data-style="terminal"><div class="preview-time">12:00</div><div class="style-name">终端</div></div>
                <div class="style-option style-neon" data-style="neon"><div class="preview-time">12:00</div><div class="style-name">霓虹</div></div>
            </div>
        </div>

        <!-- 配置选项 -->
        <div class="config-section">
            <h2 class="section-title">配置选项</h2>

            <div class="row">
                <div class="form-group">
                    <label>时区</label>
                    <select id="timezone">
                        <option value="Asia/Shanghai">北京时间 (UTC+8)</option>
                        <option value="Asia/Tokyo">东京时间 (UTC+9)</option>
                        <option value="Asia/Seoul">首尔时间 (UTC+9)</option>
                        <option value="Asia/Hong_Kong">香港时间 (UTC+8)</option>
                        <option value="Asia/Singapore">新加坡时间 (UTC+8)</option>
                        <option value="America/New_York">纽约时间 (UTC-5/-4)</option>
                        <option value="America/Los_Angeles">洛杉矶时间 (UTC-8/-7)</option>
                        <option value="Europe/London">伦敦时间 (UTC+0/+1)</option>
                        <option value="Europe/Paris">巴黎时间 (UTC+1/+2)</option>
                        <option value="Australia/Sydney">悉尼时间 (UTC+10/+11)</option>
                        <option value="UTC">UTC</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>字体大小 (px)</label>
                    <input type="number" id="fontSize" value="48" min="12" max="200">
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label>字体选择</label>
                    <select id="fontFamily">
                        <option value="">默认（跟随样式）</option>
                        <option value="jetbrains">JetBrains Mono（现代清晰）</option>
                        <option value="fira">Fira Code（连字支持）</option>
                        <option value="source">Source Code Pro（经典）</option>
                        <option value="ibm">IBM Plex Mono（专业）</option>
                        <option value="space">Space Mono（几何科技）</option>
                        <option value="orbitron">Orbitron（科幻数码）</option>
                        <option value="roboto">Roboto Mono（简洁）</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>字体预览</label>
                    <div id="fontPreview"
                        style="font-family: 'JetBrains Mono', monospace; font-size: 24px; padding: 12px 16px; background: rgba(255,255,255,0.1); border-radius: 8px; text-align: center;">
                        12:34:56</div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    <label>时间格式</label>
                    <input type="text" id="timeFormat" value="HH:mm:ss" placeholder="HH:mm:ss">
                    <div class="format-examples">
                        <span class="format-tag" data-format="HH:mm:ss">HH:mm:ss</span>
                        <span class="format-tag" data-format="HH:mm">HH:mm</span>
                        <span class="format-tag" data-format="hh:mm:ss A">hh:mm:ss A</span>
                        <span class="format-tag" data-format="hh:mm A">hh:mm A</span>
                    </div>
                    <p class="tip">HH=24小时, hh=12小时, mm=分钟, ss=秒, A=AM/PM</p>
                </div>

                <div class="form-group">
                    <label>日期格式 (可选)</label>
                    <input type="text" id="dateFormat" value="" placeholder="留空则不显示日期">
                    <div class="format-examples">
                        <span class="format-tag" data-format="YYYY-MM-DD">YYYY-MM-DD</span>
                        <span class="format-tag" data-format="MM/DD">MM/DD</span>
                        <span class="format-tag" data-format="YYYY年MM月DD日">YYYY年MM月DD日</span>
                        <span class="format-tag" data-format="MM月DD日 dddd">MM月DD日 dddd</span>
                    </div>
                    <p class="tip">YYYY=年, MM=月, DD=日, ddd=周X, dddd=星期X</p>
                </div>
            </div>
        </div>

        <!-- 预览 -->
        <div class="config-section">
            <h2 class="section-title">预览效果</h2>
            <div class="preview-container">
                <iframe id="preview" src="clock.html?style=neon" frameborder="0"
                    style="width: 100%; height: 150px; background: transparent;"></iframe>
            </div>

            <div class="url-output">
                <label>生成的链接 (复制到OBS浏览器源)</label>
                <input type="text" id="generatedUrl" readonly>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="copyUrl()">复制链接</button>
                    <button class="btn btn-primary" onclick="openPreview()">新窗口预览</button>
                </div>
            </div>
        </div>

        <!-- 使用说明 -->
        <div class="config-section">
            <h2 class="section-title">使用说明</h2>
            <ol style="line-height: 2; color: #b0b0b0; padding-left: 20px;">
                <li>在上方选择喜欢的样式和配置</li>
                <li>复制生成的链接</li>
                <li>在 OBS 中添加「浏览器」源</li>
                <li>将链接粘贴到 URL 栏</li>
                <li>设置合适的宽高 (建议: 宽400-600, 高100-200)</li>
                <li>勾选「关闭时刷新」选项</li>
            </ol>
        </div>
    </div>

    <script>
        const config = {
            style: 'neon',
            timezone: 'Asia/Shanghai',
            timeFormat: 'HH:mm:ss',
            dateFormat: '',
            fontSize: 48,
            font: ''
        };

        // 字体映射
        const fontFamilyMap = {
            'jetbrains': "'JetBrains Mono', monospace",
            'fira': "'Fira Code', monospace",
            'source': "'Source Code Pro', monospace",
            'ibm': "'IBM Plex Mono', monospace",
            'space': "'Space Mono', monospace",
            'orbitron': "'Orbitron', monospace",
            'roboto': "'Roboto Mono', monospace"
        };

        // 获取基础URL
        function getBaseUrl() {
            const url = new URL(window.location.href);
            const path = url.pathname.endsWith('/') ? url.pathname + 'clock.html' : url.pathname.replace(/index\.html$/, 'clock.html');
            return url.origin + path;
        }

        // 生成URL
        function generateUrl() {
            const params = new URLSearchParams();

            if (config.style !== 'neon') params.set('style', config.style);
            if (config.timezone !== 'Asia/Shanghai') params.set('tz', config.timezone);
            if (config.timeFormat !== 'HH:mm:ss') params.set('tf', config.timeFormat);
            if (config.dateFormat) params.set('df', config.dateFormat);
            if (config.fontSize !== 48) params.set('size', config.fontSize);
            if (config.font) params.set('font', config.font);

            const queryString = params.toString();
            return getBaseUrl() + (queryString ? '?' + queryString : '');
        }

        // 更新预览
        function updatePreview() {
            const url = generateUrl();
            document.getElementById('generatedUrl').value = url;
            document.getElementById('preview').src = url.replace(getBaseUrl(), 'clock.html');
        }

        // 样式选择
        document.querySelectorAll('.style-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.style-option').forEach(o => o.classList.remove('selected'));
                option.classList.add('selected');
                config.style = option.dataset.style;
                updatePreview();
            });
        });

        // 时区选择
        document.getElementById('timezone').addEventListener('change', (e) => {
            config.timezone = e.target.value;
            updatePreview();
        });

        // 时间格式
        document.getElementById('timeFormat').addEventListener('input', (e) => {
            config.timeFormat = e.target.value;
            updatePreview();
        });

        // 日期格式
        document.getElementById('dateFormat').addEventListener('input', (e) => {
            config.dateFormat = e.target.value;
            updatePreview();
        });

        // 字体大小
        document.getElementById('fontSize').addEventListener('input', (e) => {
            config.fontSize = parseInt(e.target.value) || 48;
            updatePreview();
        });

        // 字体选择
        document.getElementById('fontFamily').addEventListener('change', (e) => {
            config.font = e.target.value;
            const preview = document.getElementById('fontPreview');
            if (config.font && fontFamilyMap[config.font]) {
                preview.style.fontFamily = fontFamilyMap[config.font];
            } else {
                preview.style.fontFamily = "'JetBrains Mono', monospace";
            }
            updatePreview();
        });

        // 格式标签点击
        document.querySelectorAll('.format-tag').forEach(tag => {
            tag.addEventListener('click', () => {
                const format = tag.dataset.format;
                const input = tag.closest('.form-group').querySelector('input');
                input.value = format;
                input.dispatchEvent(new Event('input'));
            });
        });

        // 复制链接
        function copyUrl() {
            const url = document.getElementById('generatedUrl').value;
            navigator.clipboard.writeText(url).then(() => {
                showToast('链接已复制!');
            });
        }

        // 新窗口预览
        function openPreview() {
            window.open(generateUrl(), '_blank');
        }

        // 提示消息
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'copied';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        // 初始化
        updatePreview();
    </script>
</body>

</html>